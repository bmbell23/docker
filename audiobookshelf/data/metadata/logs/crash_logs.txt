{"timestamp":"2025-12-14 14:21:54.133","source":"Server.js:214","message":"[Server] Unhandled rejection: Error\n    at Database.<anonymous> (/app/node_modules/sequelize/lib/dialects/sqlite/query.js:185:27)\n    at /app/node_modules/sequelize/lib/dialects/sqlite/query.js:183:50\n    at new Promise (<anonymous>)\n    at Query.run (/app/node_modules/sequelize/lib/dialects/sqlite/query.js:183:12)\n    at /app/node_modules/sequelize/lib/sequelize.js:315:28\n    at async SQLiteQueryInterface.insert (/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)\n    at async Series.save (/app/node_modules/sequelize/lib/model.js:2490:35)\n    at async /app/node_modules/sequelize/lib/model.js:2465:9\n    at async Promise.all (index 0)\n    at async BookSeries.save (/app/node_modules/sequelize/lib/model.js:2456:7) {\n  name: 'SequelizeUniqueConstraintError',\n  errors: [\n    ValidationErrorItem {\n      message: 'name must be unique',\n      type: 'unique violation',\n      path: 'name',\n      value: 'Malazan Book of the Fallen',\n      origin: 'DB',\n      instance: [series],\n      validatorKey: 'not_unique',\n      validatorName: null,\n      validatorArgs: []\n    },\n    ValidationErrorItem {\n      message: 'libraryId must be unique',\n      type: 'unique violation',\n      path: 'libraryId',\n      value: 'ddc8c477-b995-44e3-ac66-bfbf142d89b8',\n      origin: 'DB',\n      instance: [series],\n      validatorKey: 'not_unique',\n      validatorName: null,\n      validatorArgs: []\n    }\n  ],\n  parent: [Error: SQLITE_CONSTRAINT: UNIQUE constraint failed: series.name, series.libraryId] {\n    errno: 19,\n    code: 'SQLITE_CONSTRAINT',\n    sql: 'INSERT INTO `series` (`id`,`name`,`nameIgnorePrefix`,`createdAt`,`updatedAt`,`libraryId`) VALUES ($1,$2,$3,$4,$5,$6);'\n  },\n  original: [Error: SQLITE_CONSTRAINT: UNIQUE constraint failed: series.name, series.libraryId] {\n    errno: 19,\n    code: 'SQLITE_CONSTRAINT',\n    sql: 'INSERT INTO `series` (`id`,`name`,`nameIgnorePrefix`,`createdAt`,`updatedAt`,`libraryId`) VALUES ($1,$2,$3,$4,$5,$6);'\n  },\n  fields: [ 'name', 'libraryId' ],\n  sql: 'INSERT INTO `series` (`id`,`name`,`nameIgnorePrefix`,`createdAt`,`updatedAt`,`libraryId`) VALUES ($1,$2,$3,$4,$5,$6);'\n} \npromise: Promise {\n  <rejected> Error\n      at Database.<anonymous> (/app/node_modules/sequelize/lib/dialects/sqlite/query.js:185:27)\n      at /app/node_modules/sequelize/lib/dialects/sqlite/query.js:183:50\n      at new Promise (<anonymous>)\n      at Query.run (/app/node_modules/sequelize/lib/dialects/sqlite/query.js:183:12)\n      at /app/node_modules/sequelize/lib/sequelize.js:315:28\n      at async SQLiteQueryInterface.insert (/app/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)\n      at async Series.save (/app/node_modules/sequelize/lib/model.js:2490:35)\n      at async /app/node_modules/sequelize/lib/model.js:2465:9\n      at async Promise.all (index 0)\n      at async BookSeries.save (/app/node_modules/sequelize/lib/model.js:2456:7) {\n    name: 'SequelizeUniqueConstraintError',\n    errors: [ [ValidationErrorItem], [ValidationErrorItem] ],\n    parent: [Error: SQLITE_CONSTRAINT: UNIQUE constraint failed: series.name, series.libraryId] {\n      errno: 19,\n      code: 'SQLITE_CONSTRAINT',\n      sql: 'INSERT INTO `series` (`id`,`name`,`nameIgnorePrefix`,`createdAt`,`updatedAt`,`libraryId`) VALUES ($1,$2,$3,$4,$5,$6);'\n    },\n    original: [Error: SQLITE_CONSTRAINT: UNIQUE constraint failed: series.name, series.libraryId] {\n      errno: 19,\n      code: 'SQLITE_CONSTRAINT',\n      sql: 'INSERT INTO `series` (`id`,`name`,`nameIgnorePrefix`,`createdAt`,`updatedAt`,`libraryId`) VALUES ($1,$2,$3,$4,$5,$6);'\n    },\n    fields: [ 'name', 'libraryId' ],\n    sql: 'INSERT INTO `series` (`id`,`name`,`nameIgnorePrefix`,`createdAt`,`updatedAt`,`libraryId`) VALUES ($1,$2,$3,$4,$5,$6);'\n  }\n}","levelName":"FATAL","level":5}
